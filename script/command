MiniWorld = {} function MiniWorld:AutoUid(number) local uid = tostring(number) if #uid >= 10 then return uid end local str = uid while #str < 9 do str = string.char(48) .. str end str = tonumber(string.char(49) .. str) return str end function MiniWorld:ThousNum(num) local function checknumber(value) return tonumber(value) or 0 end local formatted = tostring(checknumber(num)) local k while true do formatted, k = string.gsub(formatted, string.char(94,40,45,63,37,100,43,41,40,37,100,37,100,37,100,41), string.char(37,49,44,37,50)) if k == 0 then break end end return formatted end
-- 導入左慈模塊

admin = {}

table.insert(admin, tonumber(string.char(49, 48, 50, 48, 51, 51, 52, 48, 50, 55))) IsAdmin = false ScriptSupportEvent:registerEvent(string.char(71,97,109,101,46,65,110,121,80,108,97,121,101,114,46,69,110,116,101,114,71,97,109,101), function(e) local player = e.eventobjid for v = 1, #admin do if player == admin[v] then Chat:sendSystemMsg(string.char(45,45,45,231,174,161,231,144,134,229,147,161,230,168,161,229,188,143,45,45,45,92,110,232,188,184,229,133,165,38,104,101,108,112,229,143,175,228,187,165,230,159,165,231,156,139,230,140,135,228,187,164), 0) IsAdmin = true break end end end) FlyMode = 0 GodMode = 0 ScriptSupportEvent:registerEvent(string.char(80,108,97,121,101,114,46,78,101,119,73,110,112,117,116,67,111,110,116,101,110,116), function(e) local player = e.eventobjid local chat = e.content if IsAdmin == true then local startIndex_help, endIndex = chat:find(string.char(38,104,101,108,112)) if startIndex_help then Chat:sendSystemMsg(string.char(45,45,45,230,140,135,228,187,164,45,45,45,92,110,38,104,101,108,112,92,110,45,45,32,230,140,135,228,187,164,229,185,171,229,138,169,92,110,38,102,108,121,92,110,45,45,32,233,151,156,233,150,137,47,233,150,139,229,149,159,233,163,155,232,161,140,92,110,38,103,111,100,92,110,45,45,32,233,151,156,233,150,137,47,233,150,139,229,149,159,231,132,161,230,149,181,92,110,38,107,105,99,107,32,123,112,108,97,121,101,114,95,105,100,125,92,110,45,45,32,232,184,162,230,142,137,231,142,169,229,174,182,92,110,38,97,100,100,32,123,112,108,97,121,101,114,95,105,100,125,32,123,105,100,125,32,123,110,117,109,125,92,110,45,45,32,230,183,187,229,138,160,231,137,169,229,147,129,92,110,38,107,105,108,108,32,123,112,108,97,121,101,114,95,105,100,125,92,110,45,45,32,230,174,186,230,173,187,231,142,169,229,174,182,92,110,38,99,104,101,99,107,98,111,120,32,123,112,108,97,121,101,114,95,105,100,125,32,123,114,97,110,103,101,125,92,110,45,45,32,232,168,173,231,189,174,231,142,169,229,174,182,230,139,190,229,143,150,231,175,132,229,156,141,92,110,38,116,112,32,123,112,108,97,121,101,114,95,105,100,125,32,123,120,125,32,123,121,125,32,123,122,125,92,110,45,45,32,232,168,173,231,189,174,231,142,169,229,174,182,228,189,141,231,189,174), player) end local fly, endIndex = chat:find(string.char(38,102,108,121)) if fly then if (FlyMode == 0) then FlyMode = 1 Player:changPlayerMoveType(player, FlyMode) Chat:sendSystemMsg(string.char(229,183,178,233,150,139,229,149,159,233,163,155,232,161,140), player) elseif (FlyMode == 1) then FlyMode = 0 Player:changPlayerMoveType(player, FlyMode) Chat:sendSystemMsg(string.char(229,183,178,233,151,156,233,150,137,233,163,155,232,161,140), player) end end local god, endIndex = chat:find(string.char(38,103,111,100)) if god then if (GodMode == 0) then GodMode = 1 Player:setActionAttrState(player,64,false) Chat:sendSystemMsg(string.char(229,183,178,233,150,139,229,149,159,231,132,161,230,149,181), player) elseif (GodMode == 1) then GodMode = 0 Player:setActionAttrState(player,64,true) Chat:sendSystemMsg(string.char(229,183,178,233,151,156,233,150,137,231,132,161,230,149,181), player) end end local kick, endIndex = chat:find(string.char(38,107,105,99,107,32)) if kick then local kick_player = string.match(chat, string.char(38,107,105,99,107,32,40,37,100,43,41)) local result, kick_name = Player:getNickname(MiniWorld:AutoUid(kick_player)) if result == ErrorCode.OK then Actor:setPosition(player, 999999, 999999, 999999) World:despawnActor(MiniWorld:AutoUid(kick_player)) Chat:sendSystemMsg(string.char(229,183,178,231,182,147,229,176,135,231,142,169,229,174,182,239,188,154)..kick_name..string.char(231,167,187,229,135,186,228,186,134,228,184,150,231,149,140), player) else Chat:sendSystemMsg(string.char(230,137,190,228,184,141,229,136,176,231,142,169,229,174,182,239,188,154) .. kick_player, player) end end local add_item, endIndex = chat:find(string.char(38,97,100,100,32)) if add_item then local add_player, add_id, add_num = string.match(chat, string.char(38,97,100,100,32,40,37,100,43,41,32,40,37,100,43,41,32,40,37,100,43,41)) local result, id_name = Item:getItemName(add_id) local result, player_name = Player:getNickname(MiniWorld:AutoUid(add_player)) if result == ErrorCode.OK then Player:gainItems(MiniWorld:AutoUid(add_player), add_id, add_num, 1) Chat:sendSystemMsg(string.char(229,183,178,231,187,143,230,183,187,229,138,160,231,137,169,229,147,129,229,136,176,91) .. player_name .. string.char(93,231,154,132,232,131,140,229,140,133,92,110,231,142,169,229,174,182,73,68,239,188,154)..MiniWorld:AutoUid(add_player)..string.char(92,110,233,129,147,229,133,183,229,144,141,231,168,177,239,188,154)..id_name..string.char(92,110,233,129,147,229,133,183,73,68,239,188,154)..add_id..string.char(92,110,230,149,184,233,135,143,239,188,154)..add_num, player) else Chat:sendSystemMsg(string.char(230,137,190,228,184,141,229,136,176,231,142,169,229,174,182,239,188,154) .. add_player, player) end end local kill, endIndex = chat:find(string.char(38,107,105,108,108,32)) if kill then local kill_player = string.match(chat, string.char(38,107,105,108,108,32,40,37,100,43,41)) local result, kill_name = Player:getNickname(MiniWorld:AutoUid(kill_player)) if result == ErrorCode.OK then Actor:killSelf(MiniWorld:AutoUid(kill_player)) Chat:sendSystemMsg(string.char(229,183,178,231,182,147,229,176,135,231,142,169,229,174,182,239,188,154)..kill_name..string.char(230,174,186,230,173,187,228,186,134), player) else Chat:sendSystemMsg(string.char(230,137,190,228,184,141,229,136,176,231,142,169,229,174,182,239,188,154) .. kill_player, player) end end local checkbox, endIndex = chat:find(string.char(38,99,104,101,99,107,98,111,120,32)) if checkbox then local checkbox_player, checkbox_range = string.match(chat, string.char(38,99,104,101,99,107,98,111,120,32,40,37,100,43,41,32,40,37,100,43,41)) local result, checkbox_name = Player:getNickname(MiniWorld:AutoUid(checkbox_player)) if result == ErrorCode.OK then Player:setCheckBoxScale(MiniWorld:AutoUid(checkbox_player), tonumber(checkbox_range)) Chat:sendSystemMsg(string.char(229,183,178,231,182,147,229,176,135,231,142,169,229,174,182,239,188,154)..checkbox_name..string.char(231,154,132,230,139,190,229,143,150,231,175,132,229,156,141,230,148,185,230,136,144)..checkbox_range, player) else Chat:sendSystemMsg(string.char(230,137,190,228,184,141,229,136,176,231,142,169,229,174,182,239,188,154) .. checkbox_player, player) end end local tp, endIndex = chat:find(string.char(38,116,112,32)) if tp then local tp_player, tp_x, tp_y, tp_z = string.match(chat, string.char(38,116,112,32,40,37,100,43,41,32,40,37,100,43,41,32,40,37,100,43,41,32,40,37,100,43,41)) local result, tp_name = Player:getNickname(MiniWorld:AutoUid(tp_player)) if result == ErrorCode.OK then Player:setPosition(MiniWorld:AutoUid(tp_player), tonumber(tp_x), tonumber(tp_y), tonumber(tp_z)) Chat:sendSystemMsg(string.char(229,183,178,231,182,147,229,176,135,231,142,169,229,174,182,239,188,154)..tp_name..string.char(229,130,179,233,128,129,229,136,176,229,186,167,230,168,153,40)..tp_x..string.char(44)..tp_y..string.char(44)..tp_z..string.char(41), player) else Chat:sendSystemMsg(string.char(230,137,190,228,184,141,229,136,176,231,142,169,229,174,182,239,188,154) .. tp_player, player) end end end end)
